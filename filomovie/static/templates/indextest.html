<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="icon" href="{{url_for('static', filename='images/movie-symbol-of-video-camera_icon-icons.com_72981.png')}}">
        <link rel="stylesheet" href="{{url_for('static', filename='css/style.css')}}">
        <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <title>indextest</title>
        
    </head>
        
    <body>

        <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ&ab_channel=RickAstley" target="_blank">Click Me</a>

        <h1>FiloMovies</h1>

        <!--NOTE: #35 this action will bring the input to the backend when the GO button is clicked-->
        <form action="{{url_for('search')}}" method="post">
            <!--id="" will be useful for backend and css-->
            <!--only inputs with name="" will be submitted-->
            <input required name="movie_title" id="movie_title" type="text" placeholder="search movie">
            <button type="submit" onclick="tableFromJson()">GO</button>
        </form>

        <p id="showData"></p>
    
        <div class="movies">

            <div class = "s1">
                <a id="Shrek1" href="{{url_for('shrek1')}}">
                    <img class="movieposter_multiple" src="{{url_for('static', filename='images/Shrek_1.jpg')}}" alt="A movie poster of Shrek 1">
                    <p class="movietitle">Shrek</p>
                </a>
            </div>
            
            <div class="s2">
                <a id="Shrek2" href="{{url_for('shrek2')}}">
                    <img class="movieposter_multiple" src="{{url_for('static', filename='images/Shrek_2.jpg')}}" alt="A movie poster of Shrek 2">
                    <p class="movietitle">Shrek 2</p>
                </a>
            </div>

            <div class="s3">
                <a id="Shrek3" href="{{url_for('shrek3')}}">
                    <img class="movieposter_multiple" src="{{url_for('static', filename='images/Shrek_3.jpg')}}" alt="A movie poster of Shrek 3">
                    <p class="movietitle">Shrek 3</p>
                </a>
            </div>

            <span class="stretch"></span>
        </div>
        
        <script src="jquery.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="js/bootstrap.min.js"></script>

        <script>
            function tableFromJson() {
                // the json data. (you can change the values for output.)
                var myBooks = [
                    {'Book ID': '1', 'Book Name': 'Challenging Times',
                        'Category': 'Business', 'Price': '125.60'
                    },
                    {'Book ID': '2', 'Book Name': 'Learning JavaScript',
                        'Category': 'Programming', 'Price': '56.00'
                    },
                    {'Book ID': '3', 'Book Name': 'Popular Science',
                        'Category': 'Science', 'Price': '210.40'
                    }
                ]

                // Extract value from table header. 
                // ('Book ID', 'Book Name', 'Category' and 'Price')
                var col = [];
                for (var i = 0; i < myBooks.length; i++) {
                    for (var key in myBooks[i]) {
                        if (col.indexOf(key) === -1) {
                            col.push(key);
                        }
                    }
                }

                // Create a table.
                var table = document.createElement("table");

                // Create table header row using the extracted headers above.
                var tr = table.insertRow(-1);                   // table row.

                for (var i = 0; i < col.length; i++) {
                    var th = document.createElement("th");      // table header.
                    th.innerHTML = col[i];
                    tr.appendChild(th);
                }

                // add json data to the table as rows.
                for (var i = 0; i < myBooks.length; i++) {

                    tr = table.insertRow(-1);

                    for (var j = 0; j < col.length; j++) {
                        var tabCell = tr.insertCell(-1);
                        tabCell.innerHTML = myBooks[i][col[j]];
                    }
                }

                // Now, add the newly created table with json data, to a container.
                var divShowData = document.getElementById('showData');
                divShowData.innerHTML = "";
                divShowData.appendChild(table);
        }
        </script>

    </body>
</html>